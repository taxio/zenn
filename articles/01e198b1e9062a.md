---
title: "Pillow(PIL)ã§border-radius"
emoji: "ğŸ¨"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["python", "pillow"]
published: false
---

Pillow(PIL) ã§ã“ã‚“ãªæ„Ÿã˜ã«ç”»åƒã‚’ border-radius ã—ãŸã„ã€‚

| Before | After |
| --- | --- |
| ![åŠ å·¥å‰ã®æ­£æ–¹å½¢ç”»åƒ](/images/01e198b1e9062a/lenna_before.png) | ![è§’ãŒä¸¸ã‚ã‚‰ã‚ŒãŸç”»åƒ](/images/01e198b1e9062a/lenna_after.png) |

## ã‚³ãƒ¼ãƒ‰ã®å…¨ä½“åƒ
```python
from PIL import Image, ImageDraw


img = Image.open("./lenna.png")
radius = 50

mask = Image.new("L", img.size, 0)
mask_draw = ImageDraw.Draw(mask)
mask_draw.rounded_rectangle((0, 0, img.width, img.height), radius, fill=255)

img.putalpha(mask)
img.show()
```

## ã‚„ã£ã¦ã„ã‚‹ã“ã¨
### ãƒã‚¹ã‚¯ç”¨ã®ç”»åƒã‚’ä½œã‚‹
```python
mask = Image.new("L", img.size, 0)
mask_draw = ImageDraw.Draw(mask)
mask_draw.rounded_rectangle((0, 0, img.width, img.height), radius, fill=255)
```

ãƒã‚¹ã‚¯ç”¨ã® 8bit ã‚°ãƒ¬ãƒ¼ã‚¹ã‚±ãƒ¼ãƒ«ç”»åƒã‚’ä½œã‚‹ã€‚
ç›®çš„ã®ç”»åƒã‚’åŸ‹ã‚è¾¼ã‚€éƒ¨åˆ†ãŒé»’(0)ã€é€éã•ã›ãŸã„éƒ¨åˆ†ãŒç™½(255)ã«ãªã‚‹ã‚ˆã†ã« `rounded_rectangle` ã§å›³å½¢ã‚’æãã€‚

![ãƒã‚¹ã‚¯ç”¨ã®ç”»åƒ](/images/01e198b1e9062a/mask.png)

### ãƒã‚¹ã‚¯ç”»åƒã‚’å¯¾è±¡ç”»åƒã®ã‚¢ãƒ«ãƒ•ã‚¡è¦ç´ ã«è²¼ã‚Šä»˜ã‘ã‚‹
```python
img.putalpha(mask)
```

å¯¾è±¡ç”»åƒã®ã‚¢ãƒ«ãƒ•ã‚¡è¦ç´ ã«å…ˆç¨‹ã®ãƒã‚¹ã‚¯ç”»åƒã‚’è²¼ã‚Šä»˜ã‘ã‚‹ã€‚
ã‚¢ãƒ«ãƒ•ã‚¡å€¤ã¯0ã§å®Œå…¨ãªé€æ˜ã«ãªã‚‹ã®ã§ã€ãƒã‚¹ã‚¯ç”»åƒã®é»’(0)è¦ç´ ãŒå…¨ã¦é€éãªè¦ç´ ã¨ã—ã¦ç½®æ›ãˆã‚‰ã‚Œã‚‹ã€‚

ã“ã‚Œã§å®Œæˆã€‚

![è§’ãŒä¸¸ã‚ã‚‰ã‚ŒãŸç”»åƒ](/images/01e198b1e9062a/lenna_after.png)
